(this["webpackJsonplapa-app"]=this["webpackJsonplapa-app"]||[]).push([[0],{125:function(e,t,n){"use strict";n(0);var r=n(17),a=n(91),s=n.n(a),c=n(1),i=function(e){return Object(c.jsx)("div",{className:s.a.dialog,children:Object(c.jsx)(r.b,{activeClassName:s.a.active,to:"/dialogs/"+e.id,children:e.name})},e.id)},o=n(57),u=n.n(o),l=n(143),d=n.n(l),p=function(e){return Object(c.jsx)("div",{className:d.a.message,children:e.message})},j=n(27),b=n(50),f=n(67),g=n(9),O=function(){var e=Object(g.c)();return Object(c.jsx)(j.d,{initialValues:{message:""},validateOnBlur:!0,validationSchema:b.b,onSubmit:function(t,n){var r=n.setSubmitting;e(Object(f.a)(t.message)),r(!1)},children:function(e){var t=e.isSubmitting,n=e.errors,r=e.touched;e.dirty,e.isValid;return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.b,{name:"message",as:"textarea",className:"form-textarea",placeholder:"Enter a message..."}),r.message&&n.message&&Object(c.jsx)(j.a,{name:"message",component:"div"}),Object(c.jsx)("button",{type:"submit",disabled:t,children:"Send"})]})}})},h=n(25),m=function(e){return e.dialogsPage.dialogs},v=function(e){return e.dialogsPage.messages},x=n(45),_=n(10);t.a=function(){var e=Object(h.b)(x.a),t=Object(h.b)(m),n=Object(h.b)(v),r=t.map((function(e){return Object(c.jsx)(i,{id:e.id,name:e.name},e.id)})),a=n.map((function(e){return Object(c.jsx)(p,{message:e.message,id:e.id},e.id)}));return e?Object(c.jsxs)("div",{className:u.a.dialogs,children:[Object(c.jsx)("div",{className:u.a.dialogItems,children:r}),Object(c.jsx)("div",{className:u.a.messages,children:a}),Object(c.jsx)("div",{className:u.a.item,children:Object(c.jsx)(O,{})})]}):Object(c.jsx)(_.a,{to:"/login"})}},127:function(e,t,n){e.exports={nav:"Navigations_nav__3iGlY"}},128:function(e,t,n){e.exports={item:"Friend_item__3OWRm"}},129:function(e,t,n){e.exports={nav:"NavbarRight_nav__6Tf45"}},132:function(e,t,n){e.exports={logo:"Logo_logo__1UPvB"}},133:function(e,t,n){e.exports={search:"Search_search__UpuhL"}},134:function(e,t,n){e.exports={widgets:"Widgets_widgets__18IS7"}},140:function(e,t,n){e.exports={avatarWrapper:"Avatar_avatarWrapper__3-E3I"}},141:function(e,t,n){e.exports={wrapper:"Profile_wrapper__3RTBF"}},143:function(e,t,n){},149:function(e,t,n){},21:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"e",(function(){return P})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return y}));var r=n(3),a=n.n(r),s=n(7),c=n(4),i=n(2),o=n(11),u=n(38),l="lapa-app/profile-reducer/ADD-POST",d="lapa-app/profile-reducer/DELETE-POST",p="lapa-app/profile-reducer/SET_USER_PROFILE",j="lapa-app/profile-reducer/SET_STATUS",b="lapa-app/profile-reducer/UPDATE_PHOTO",f="lapa-app/profile-reducer/UPDATE_PROFILE",g=function(e){return{type:j,status:e}},O=function(e){return{type:b,photo:e}},h=function(e){return{type:f,profile:e}},m={posts:[{id:Object(o.v1)(),postMessage:"Hi, I'm Pavel",likes:10},{id:Object(o.v1)(),postMessage:"Let's go to learn a React",likes:9},{id:Object(o.v1)(),postMessage:"Also we need improve our html/css skills",likes:11},{id:Object(o.v1)(),postMessage:"Then we'll learn Redux",likes:22}],profile:{aboutMe:"",userId:0,fullName:"",photos:{small:"",large:""},contacts:{},lookingForAJobDescription:"",lookingForAJob:!1},status:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:Object(o.v1)(),postMessage:t.post,likes:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[n])});case d:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case p:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case j:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case b:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photo})});case f:return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),t.profile)});default:return e}},x=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:p,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getProfileStatus(e);case 2:r=t.sent,n(g(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(g(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.updatePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n(O(r.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(t){t(function(e){return{type:l,post:e}}(e))}},y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.updateProfile(e);case 2:0===t.sent.data.resultCode&&(n(h(e)),n(x(r().auth.userId)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var r=n(43),a=n(26),s=n(67),c=n(11),i={friends:[{id:Object(c.v1)(),name:"Pashka"},{id:Object(c.v1)(),name:"Maks"},{id:Object(c.v1)(),name:"Vlad"},{id:Object(c.v1)(),name:"Leha"}]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return e},u=n(21),l=n(28),d=n(142),p=n(41),j=n(71),b=n(9),f=Object(r.b)({profilePage:u.d,dialogsPage:s.b,navbarRight:o,users:l.h,auth:a.b,login:p.b,app:j.a}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.c,O=Object(r.d)(f,g(Object(r.a)(d.a))),h=b.d;t.a=O},26:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return x}));var r=n(3),a=n.n(r),s=n(7),c=n(2),i=n(41),o=n(51),u=n(38),l="lapa-app/auth-reducer/SET_AUTH_DATA",d="lapa-app/auth-reducer/SET_USER_PHOTO",p="lapa-app/auth-reducer/SET_AUTH_CHANGE",j="lapa-app/auth-reducer/GET_LOGIN_ERROR",b=function(e,t,n){return{type:l,data:{userId:e,login:t,email:n}}},f=function(e){return{type:d,photos:e}},g=function(e){return{type:p,isAuth:e}},O={userId:0,login:"",email:"",isAuth:!1,photos:{large:"",small:""}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.data),{},{isAuth:!0});case d:return Object(c.a)(Object(c.a)({},e),{},{photos:Object(c.a)({},t.photos)});case p:return Object(c.a)(Object(c.a)({},e),{},{isAuth:t.isAuth});case j:return Object(c.a)(Object(c.a)({},e),{},{errorMessage:t.message});default:return e}},m=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.getAuth();case 3:if(0!==(n=e.sent).resultCode){e.next=11;break}return r=n.data,s=r.id,c=r.login,i=r.email,t(b(s,c,i)),e.next=9,u.a.getProfile(s);case 9:l=e.sent,t(f(l.data.photos));case 11:return e.abrupt("return",n);case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t,n,r){return function(){var c=Object(s.a)(a.a.mark((function s(c){var u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.logining({email:e,password:t,rememberMe:n,captcha:r});case 3:(u=a.sent).data.data.userId?c(g(!0)):(10===u.data.resultCode&&c(Object(i.a)()),c((s=u.data.messages[0],{type:j,message:s}))),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}var s}),s,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},x=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.setUnlogging();case 3:0===e.sent.data.resultCode&&t(g(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},275:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(66),c=n.n(s),i=n(5),o=n(6),u=n(12),l=n(14),d=(n(149),n(17)),p=n(74),j=n.n(p),b=n(1),f=function(e){return Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:e.link,activeClassName:j.a.active,className:j.a.itemLink,children:e.menu})})},g=n(127),O=n.n(g),h=function(){return Object(b.jsxs)("nav",{className:O.a.nav,children:[Object(b.jsx)(f,{menu:"Profile",link:"/profile"}),Object(b.jsx)(f,{menu:"Messages",link:"/dialogs"}),Object(b.jsx)(f,{menu:"Users",link:"/users"}),Object(b.jsx)(f,{menu:"News",link:"/news"}),Object(b.jsx)(f,{menu:"Music",link:"/music"}),Object(b.jsx)(f,{menu:"Settings",link:"/settings"})]})},m=function(){return Object(b.jsx)(h,{})},v=n(128),x=n.n(v),_=function(e){return Object(b.jsx)("div",{className:x.a.item,children:Object(b.jsx)(d.b,{to:e.name,children:e.name})},e.id)},w=n(129),P=n.n(w),k=function(e){var t=e.friends.map((function(e){return Object(b.jsx)(_,{id:e.id,name:e.name},e.id)}));return Object(b.jsx)("nav",{className:P.a.nav,children:t})},y=n(10),A=n(9),F=n(28),S=n.p+"static/media/loader.07928bad.gif",N=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:S})})},I=n(15),C=n(75),U=n.n(C),E=n(131),T=n.n(E),L=function(e){for(var t=e.totalItemsCounter,n=e.pageSize,a=e.currentPage,s=e.onPageClick,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/i),p=Object(r.useState)(1),j=Object(I.a)(p,2),f=j[0],g=j[1],O=(f-1)*i+1,h=f*i;return Object(r.useEffect)((function(){g(Math.ceil(a/i))}),[a,i]),Object(b.jsxs)("div",{children:[f>1&&Object(b.jsx)("button",{onClick:function(){return g(f-1)},children:"Prev"}),u.filter((function(e){return e>=O&&e<=h})).map((function(e){return Object(b.jsx)("span",{className:a===e?T()(U.a.selected,U.a.page):U.a.page,onClick:function(){return s(e)},children:e})})),f<d&&Object(b.jsx)("button",{onClick:function(){return g(f+1)},children:"Next"})]})},M=n(76),D=n.n(M),J=n.p+"static/media/user.3b87c899.png",R=function(e){var t=e.user,n=e.followInProgress,r=e.getUnFollow,a=e.getFollow;return Object(b.jsxs)("div",{className:D.a.wrapper,children:[Object(b.jsxs)("div",{className:D.a.items,children:[Object(b.jsx)(d.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:J})}),t.followed?Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})]}),Object(b.jsxs)("div",{className:D.a.info,children:[Object(b.jsx)("div",{children:t.name}),Object(b.jsx)("div",{children:t.status})]})]})},z=function(e){var t=e.users,n=e.pageSize,r=e.totalUserCounter,a=e.currentPage,s=e.isFetching,c=e.onPageClick,i=(e.toggleIsFollowingProgress,e.followInProgress),o=e.getFollow,u=e.getUnFollow;return Object(b.jsxs)("div",{children:[s?Object(b.jsx)(N,{}):null,Object(b.jsx)(L,{pageSize:n,totalItemsCounter:r,currentPage:a,onPageClick:c}),t.map((function(e){return Object(b.jsx)(R,{user:e,followInProgress:i,getFollow:o,getUnFollow:u},e.id)}))]})},G=function(e){return e.users.users},H=function(e){return e.users.pageSize},V=function(e){return e.users.totalUserCounter},W=function(e){return e.users.currentPage},q=function(e){return e.users.isFetching},B=function(e){return e.users.followInProgress},Z=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageClick=function(t){e.props.getPage(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsx)(z,{users:this.props.users,pageSize:this.props.pageSize,totalUserCounter:this.props.totalUserCounter,currentPage:this.props.currentPage,onPageClick:this.onPageClick,isFetching:this.props.isFetching,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followInProgress:this.props.followInProgress,getFollow:this.props.getFollow,getUnFollow:this.props.getUnFollow})}}]),n}(a.a.Component),X=Object(A.b)((function(e){return{users:G(e),pageSize:H(e),totalUserCounter:V(e),currentPage:W(e),isFetching:q(e),followInProgress:B(e)}}),{setCurrentPage:F.e,setTotalUsersCount:F.f,toggleIsFollowingProgress:F.g,getUsers:F.d,getPage:F.b,getFollow:F.a,getUnFollow:F.c})(Z),Y=n(2),K=n(26),Q=n(34),$=n(89),ee=n.n($),te=n(132),ne=n.n(te),re=n.p+"static/media/lapa-logo.365a972e.png",ae=function(){return Object(b.jsx)("div",{className:ne.a.logo,children:Object(b.jsx)("img",{src:re,alt:""})})},se=n(133),ce=n.n(se),ie=function(){return Object(b.jsx)("div",{className:ce.a.search,children:Object(b.jsx)("input",{type:"text"})})},oe=function(e){return Object(b.jsx)("img",{src:e.src})},ue=n(134),le=n.n(ue),de=function(e){return Object(b.jsxs)("div",{className:le.a.widgets,children:[Object(b.jsx)(oe,{src:"https://icon-library.com/images/send-message-icon-png/send-message-icon-png-29.jpg"}),Object(b.jsx)(oe,{src:"https://png.pngtree.com/png-vector/20190411/ourlarge/pngtree-vector-bell-icon-png-image_927119.jpg"}),Object(b.jsx)(oe,{src:e.smallPhoto})]})},pe=function(e){var t=e.setLogOut,n=Object(Q.a)(e,["setLogOut"]);return Object(b.jsxs)("header",{className:ee.a.header,children:[Object(b.jsx)(ae,{}),Object(b.jsx)(ie,{}),n.isAuth?Object(b.jsxs)("div",{className:ee.a.widgets,children:[n.login,Object(b.jsx)(de,{smallPhoto:n.smallPhoto}),Object(b.jsx)("button",{onClick:function(){t()},children:"Log out"})]}):Object(b.jsx)(d.b,{to:"/login",children:"Login"})]})},je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(pe,Object(Y.a)(Object(Y.a)({},this.props),{},{login:this.props.login,isAuth:this.props.isAuth,smallPhoto:this.props.smallPhoto,setLogOut:this.props.setLogOut}))}}]),n}(a.a.Component),be=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,smallPhoto:e.auth.photos.small}}),{setAuthData:K.d,setUserPhoto:K.f,setLogOut:K.e})(je),fe=n(36),ge=n(50),Oe=n(144),he=n(41),me=Object(A.b)((function(e){return{login:e.login.data.login,password:e.login.data.password,isAuth:e.auth.isAuth,errorMessage:e.auth.errorMessage,captchaUrl:e.login.captchaUrl}}),{setLoginData:he.c,setAuth:K.c,getCaptchaUrl:he.a})((function(e){var t=Object(fe.d)({resolver:Object(Oe.a)(ge.a)}),n=t.register,r=t.handleSubmit,a=t.formState.errors,s=function(t,n,r,a){e.setAuth(t,n,r,a)};return e.isAuth?Object(b.jsx)(y.a,{to:"/profile"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"LOGIN PAGE"}),Object(b.jsxs)("form",{onSubmit:r((function(t){s(t.login,t.password,t.rememberMe,t.captcha),e.setLoginData(t)})),children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(Y.a)({defaultValue:""},n("login",{required:!0,pattern:/^[A-Za-z]+$/i})))}),e.errorMessage&&Object(b.jsx)("span",{children:e.errorMessage}),a.login&&Object(b.jsx)("span",{children:"This field is required"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(Y.a)({defaultValue:"",type:"password"},n("password",{required:!0})))}),a.password&&Object(b.jsx)("span",{children:a.password.message}),Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(Y.a)({type:"checkbox"},n("rememberMe")))}),e.captchaUrl&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:e.captchaUrl,style:{width:"200px"}}),Object(b.jsx)("input",Object(Y.a)({type:"text"},n("captcha")))]}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"submit"})})]})]})})),ve=n(43),xe=n(71),_e=n(21),we=n(77),Pe=n.n(we),ke=a.a.memo((function(e){return Object(b.jsxs)("div",{className:Pe.a.item,children:[Object(b.jsx)("div",{className:Pe.a.postMessage,children:e.message}),Object(b.jsxs)("div",{className:Pe.a.postLikes,children:["Likes: ",e.likes]})]},e.id)})),ye=n(56),Ae=n.n(ye),Fe=n(27),Se=function(e){var t=e.addPost;Object(Q.a)(e,["addPost"]);return Object(b.jsx)(Fe.d,{initialValues:{post:""},validateOnBlur:!0,validationSchema:ge.c,onSubmit:function(e,n){var r=n.setSubmitting;t(e.post),r(!1)},children:function(e){var t=e.isSubmitting,n=e.errors,r=e.touched,a=e.dirty,s=e.isValid;return Object(b.jsxs)(Fe.c,{children:[Object(b.jsx)(Fe.b,{name:"post",as:"textarea",className:"form-textarea",placeholder:"Enter a post..."}),r.post&&n.post&&Object(b.jsx)(Fe.a,{name:"post",component:"div"}),Object(b.jsx)("button",{type:"submit",disabled:t&&!s&&!a,children:"Send"})]})}})},Ne=a.a.memo((function(e){var t=e.addPost,n=e.myPost,r=(e.newPost,e.posts),a=(Object(Q.a)(e,["addPost","myPost","newPost","posts"]),r.map((function(e){return Object(b.jsx)(ke,{message:e.postMessage,likes:e.likes,id:e.id},e.id)})));return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:Ae.a.postHeader,children:[Object(b.jsx)("div",{className:Ae.a.itemWrapper,children:Object(b.jsxs)("h2",{children:[n," "]})}),Object(b.jsx)("div",{className:Ae.a.item,children:Object(b.jsx)(Se,{addPost:t})})]}),Object(b.jsx)("div",{className:Ae.a.posts,children:a})]})})),Ie=Object(A.b)((function(e){return{myPost:e.profilePage.myPost,newPost:e.profilePage.newPost,posts:e.profilePage.posts}}),{addPost:_e.a})(Ne),Ce=n(140),Ue=n.n(Ce),Ee=function(e){return Object(b.jsx)("div",{className:Ue.a.avatarWrapper,children:Object(b.jsx)("img",{src:e.imgAdress})})},Te=n(141),Le=n.n(Te),Me=function(e){var t=Object(A.c)(),n=Object(r.useState)(!1),a=Object(I.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)(e.status),o=Object(I.a)(i,2),u=o[0],l=o[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!s&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status||"clear status"})}),s&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},value:u,onBlur:function(){c(!1),t(Object(_e.g)(u))}})})]})},De=function(e){var t=e.aboutMe,n=e.userId,a=e.fullName,s=e.lookingForAJob,c=e.lookingForAJobDescription,i=e.contacts,o=(Object(Q.a)(e,["aboutMe","userId","fullName","lookingForAJob","lookingForAJobDescription","contacts"]),Object(A.c)()),u=Object(r.useState)(!1),l=Object(I.a)(u,2),d=l[0],p=l[1],j=Object(r.useState)({aboutMe:t,userId:n,fullName:a,lookingForAJobDescription:c,lookingForAJob:s,contacts:{github:i.github}}),f=Object(I.a)(j,2),g=f[0],O=f[1];Object(r.useEffect)((function(){O({aboutMe:t,userId:n,fullName:a,lookingForAJobDescription:c,lookingForAJob:s,contacts:{github:i.github}})}),[t,n,a,s,c,i]);var h=function(e,t){switch(t){case"fullName":return O(Object(Y.a)(Object(Y.a)({},g),{},{fullName:e.currentTarget.value}));case"aboutMe":return O(Object(Y.a)(Object(Y.a)({},g),{},{aboutMe:e.currentTarget.value}));case"lookingForAJobDescription":return O(Object(Y.a)(Object(Y.a)({},g),{},{lookingForAJobDescription:e.currentTarget.value}));case"lookingForAJob":return O(Object(Y.a)(Object(Y.a)({},g),{},{lookingForAJob:e.currentTarget.checked}));case"contacts.github":return O(Object(Y.a)(Object(Y.a)({},g),{},{contacts:Object(Y.a)(Object(Y.a)({},i),{},{github:e.currentTarget.value})}));default:return g}};return Object(b.jsxs)("div",{children:[!d&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["About me: ",t]}),Object(b.jsxs)("div",{children:["Fullname: ",a]}),Object(b.jsxs)("div",{children:["lookingForAJobDescription: ",c]}),Object(b.jsxs)("div",{children:["lookingForAJob: ",s?"yes":"no"]}),Object(b.jsxs)("div",{children:["contacts: ",Object(b.jsx)("span",{children:Object(b.jsx)("a",{href:i.github,target:"_blank",children:i.github})})]})]}),d&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["About me: ",Object(b.jsx)("input",{type:"text",value:g.aboutMe,onChange:function(e){return h(e,"aboutMe")}})]}),Object(b.jsxs)("div",{children:["Fullname: ",Object(b.jsx)("input",{type:"text",value:g.fullName,onChange:function(e){return h(e,"fullName")}})]}),Object(b.jsxs)("div",{children:["lookingForAJobDescription: ",Object(b.jsx)("input",{type:"text",value:g.lookingForAJobDescription,onChange:function(e){return h(e,"lookingForAJobDescription")}})]}),Object(b.jsxs)("div",{children:["lookingForAJob: ",Object(b.jsx)("input",{type:"checkbox",checked:g.lookingForAJob,onChange:function(e){return h(e,"lookingForAJob")}})]}),Object(b.jsxs)("div",{children:["contacts: ",Object(b.jsx)("input",{type:"text",value:g.contacts.github,onChange:function(e){return h(e,"contacts.github")}})]})]}),d?Object(b.jsx)("button",{onClick:function(){p(!1),o(Object(_e.f)({aboutMe:g.aboutMe,userId:g.userId,fullName:g.fullName,lookingForAJobDescription:g.lookingForAJobDescription,lookingForAJob:g.lookingForAJob,contacts:{github:g.contacts.github}}))},children:"Save"}):Object(b.jsx)("button",{onClick:function(){p(!0)},children:"Edit"})]})},Je=function(e){var t=Object(A.c)();e.profile;return Object(b.jsxs)("div",{className:Le.a.wrapper,children:[Object(b.jsx)(Ee,{imgAdress:e.profile.photos.large}),Object(b.jsx)(Me,{status:e.status}),Object(b.jsx)("input",{type:"file",name:"myImg",onChange:function(e){e.target.files&&t(Object(_e.e)(e.target.files[0]))}}),Object(b.jsx)(De,Object(Y.a)({},e.profile))]})},Re=n(25),ze=n(45),Ge=function(){var e=Object(A.c)(),t=Object(Re.b)(ze.a),n=Object(Re.b)(ze.c),a=Object(Re.b)(ze.d),s=Object(Re.b)(ze.b),c=Object(y.g)().userId;return Object(r.useEffect)((function(){t&&(c||(c=s),e(Object(_e.b)(c)),e(Object(_e.c)(c)))}),[c]),t?Object(b.jsxs)("div",{children:[Object(b.jsx)(Je,{profile:n,status:a}),Object(b.jsx)(Ie,{})]}):Object(b.jsx)(y.a,{to:"/login"})},He=n(125),Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("Some error"),console.error(e)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedTC(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(be,{}),Object(b.jsx)(m,{}),Object(b.jsx)(k,{friends:this.props.friends}),Object(b.jsx)("div",{className:"app-wrapper-content",children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(N,{}),children:Object(b.jsxs)(y.d,{children:[Object(b.jsx)(y.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(Ge,{})}}),Object(b.jsx)(y.b,{path:"/dialogs",render:function(){return Object(b.jsx)(He.a,{})}}),Object(b.jsx)(y.b,{path:"/users",render:function(){return Object(b.jsx)(X,{})}}),Object(b.jsx)(y.b,{path:"/login",render:function(){return Object(b.jsx)(me,{})}}),Object(b.jsx)(y.b,{exact:!0,path:"*",render:function(){return Object(b.jsx)("div",{children:"404 PAGE NOT FOUND"})}})]})})})]}):Object(b.jsx)(N,{})}}]),n}(a.a.Component),We=Object(ve.c)(y.h,Object(A.b)((function(e){return{friends:e.navbarRight.friends,initialized:e.app.initialized}}),{initializedTC:xe.b}))(Ve),qe=(n(275),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,277)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))});c.a.render(Object(b.jsx)(d.a,{children:Object(b.jsx)(A.a,{store:Re.a,children:Object(b.jsx)(We,{})})}),document.getElementById("root")),window.store=Re.a,qe()},28:function(e,t,n){"use strict";n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return S}));var r=n(3),a=n.n(r),s=n(7),c=n(4),i=n(2),o=n(49),u=n.n(o).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ed0fa8fa-ddbb-478a-b370-1f41a9c286be"}}),l={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return u.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},setFollow:function(e){return u.post("follow/".concat(e)).then((function(e){return e.data}))},setUnFollow:function(e){return u.delete("follow/".concat(e)).then((function(e){return e.data}))}},d="lapa-app/users-reducer/IS_FOLLOWING",p="lapa-app/users-reducer/SET_USERS",j="lapa-app/users-reducer/SET_CURRENT_PAGE",b="lapa-app/users-reducer/SET_TOTAL_USERS_COUNT",f="lapa-app/users-reducer/TOGGLE_IS_FETCHING",g="lapa-app/users-reducer/TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pageSize:10,totalUserCounter:0,currentPage:1,isFetching:!1,followInProgress:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(i.a)(Object(i.a)({},e),{},{followed:t.follow}):e}))});case p:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case j:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case b:return Object(i.a)(Object(i.a)({},e),{},{totalUserCounter:t.totalCount});case f:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case g:return Object(i.a)(Object(i.a)({},e),{},{followInProgress:t.isFetching?[].concat(Object(c.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}},m=function(e,t){return{type:d,userID:e,follow:t}},v=function(e){return{type:p,users:e}},x=function(e){return{type:j,currentPage:e}},_=function(e){return{type:b,totalCount:e}},w=function(e){return{type:f,isFetching:e}},P=function(e,t){return{type:g,isFetching:e,userId:t}},k=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),n.next=3,l.getUsers(e,t);case 3:s=n.sent,r(w(!1)),r(v(s.items)),r(_(s.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),r(x(e)),n.next=4,l.getUsers(e,t);case 4:s=n.sent,r(w(!1)),r(v(s.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(P(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(m(n,s)),t(P(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),F=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.setFollow.bind(l),t.next=3,A(n,e,r,!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.setUnFollow.bind(l),t.next=3,A(n,e,r,!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(49),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ed0fa8fa-ddbb-478a-b370-1f41a9c286be"}}),s={getProfile:function(e){return a.get("profile/".concat(e))},getProfileStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",{status:e})},updatePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},updateProfile:function(e){return a.put("profile",e)}}},41:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return j}));var r=n(3),a=n.n(r),s=n(7),c=n(2),i=n(51),o="lapa-app/login-reducer/SET_LOGIN",u="lapa-app/login-reducer/SET_CAPTCHA",l={data:{login:"",password:""},captchaUrl:""},d=function(e){return{type:o,data:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(c.a)(Object(c.a)({},e),{},{data:t.data});case u:return Object(c.a)(Object(c.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},j=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.getCaptcha();case 3:(n=e.sent).data.url&&t((r=n.data.url,{type:u,captchaUrl:r})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.userId},s=function(e){return e.profilePage.profile},c=function(e){return e.profilePage.status}},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(39),a=r.a().shape({post:r.b().max(100,"Max length is 100 symbols!").required("Required field")}),s=r.a().shape({message:r.b().max(100,"Max length is 100 symbols!").required("Required field")}),c=r.a({login:r.b().email("Enter valid email"),password:r.b().min(6,"Min length is 6 symbols!")}).required("Required field")},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(49),s=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/"}),c={getAuth:function(){return s.get("auth/me").then((function(e){return e.data}))},logining:function(e){return s.post("auth/login",Object(r.a)({},e))},setUnlogging:function(){return s.delete("auth/login")},getCaptcha:function(){return s.get("security/get-captcha-url")}}},56:function(e,t,n){e.exports={itemWrapper:"Posts_itemWrapper__2MnQT",item:"Posts_item__97VEc",postHeader:"Posts_postHeader__Zuu3v",posts:"Posts_posts__346gk"}},57:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2-tPI",dialogItems:"Dialogs_dialogItems__3S14B",messages:"Dialogs_messages__3Z4qp"}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n(2),s=n(11),c="lapa-app/dialogs-reducer/ADD-MESSAGE",i=function(e){return{type:c,message:e}},o={dialogs:[{id:Object(s.v1)(),name:"Pashka"},{id:Object(s.v1)(),name:"Maks"},{id:Object(s.v1)(),name:"Vlados"},{id:Object(s.v1)(),name:"Leha"},{id:Object(s.v1)(),name:"Dima"}],messages:[{id:Object(s.v1)(),message:"Hi"},{id:Object(s.v1)(),message:"How are you?"},{id:Object(s.v1)(),message:"I am fine"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:Object(s.v1)(),message:t.message};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(2),a=n(26),s="lapa-app/app-reducer/SET_INITIALIZED",c={initialized:!1},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{initialized:t.initialized});default:return e}},o=function(){return function(e){e(Object(a.a)()).then((function(){e({type:s,initialized:!0})}))}}},74:function(e,t,n){e.exports={itemLink:"Navigation_itemLink__3xkIX",active:"Navigation_active__2yPBD",item:"Navigation_item__1v-e7"}},75:function(e,t,n){e.exports={selected:"Paginator_selected__VHOU2",page:"Paginator_page__3O0AH"}},76:function(e,t,n){e.exports={wrapper:"Users_wrapper__e2WZX",info:"Users_info__2-r_M",items:"Users_items__2iN-W",selected:"Users_selected__168ae"}},77:function(e,t,n){e.exports={item:"Post_item__3XYVZ",postLikes:"Post_postLikes__3K5NJ"}},89:function(e,t,n){e.exports={header:"Header_header__3kJfL",widgets:"Header_widgets__1MpT7"}},91:function(e,t,n){e.exports={dialog:"Dialog_dialog__uI-V6",active:"Dialog_active__1Vyxt"}}},[[276,1,2]]]);
//# sourceMappingURL=main.2d25c37c.chunk.js.map