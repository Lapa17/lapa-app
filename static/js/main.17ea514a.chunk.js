(this["webpackJsonplapa-app"]=this["webpackJsonplapa-app"]||[]).push([[0],{113:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(16),s=n(9),c=n(1),o=function(e){return{isAuth:e.auth.isAuth}},i=function(e){return Object(a.b)(o)((function(t){return t.isAuth?Object(c.jsx)(e,Object(r.a)({},t)):Object(c.jsx)(s.a,{to:"/login"})}))}},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(2),s=n(12),c="lapa-app/dialogs-reducer/ADD-MESSAGE",o=function(e){return{type:c,message:e}},i={dialogs:[{id:Object(s.v1)(),name:"Pashka"},{id:Object(s.v1)(),name:"Maks"},{id:Object(s.v1)(),name:"Vlados"},{id:Object(s.v1)(),name:"Leha"},{id:Object(s.v1)(),name:"Dima"}],messages:[{id:Object(s.v1)(),message:"Hi"},{id:Object(s.v1)(),message:"How are you?"},{id:Object(s.v1)(),message:"I am fine"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:Object(s.v1)(),message:t.message};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},116:function(e,t,n){e.exports={nav:"Navigations_nav__i3OCr"}},117:function(e,t,n){e.exports={item:"Friend_item__2ZHma"}},118:function(e,t,n){e.exports={nav:"NavbarRight_nav__3hk_H"}},125:function(e,t,n){e.exports={avatarWrapper:"Avatar_avatarWrapper__3kRML"}},126:function(e,t,n){e.exports={wrapper:"Profile_wrapper__2KngV"}},127:function(e,t,n){e.exports={logo:"Logo_logo__3fZgA"}},128:function(e,t,n){e.exports={search:"Search_search__3XdfZ"}},129:function(e,t,n){e.exports={widgets:"Widgets_widgets__EfZB_"}},136:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(56),c=n.n(s),o=n(5),i=n(6),u=n(10),l=n(11),p=(n(136),n(20)),d=n(63),j=n.n(d),b=n(1),f=function(e){return Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:e.link,activeClassName:j.a.active,className:j.a.itemLink,children:e.menu})})},h=n(116),O=n.n(h),g=function(){return Object(b.jsxs)("nav",{className:O.a.nav,children:[Object(b.jsx)(f,{menu:"Profile",link:"/profile"}),Object(b.jsx)(f,{menu:"Messages",link:"/dialogs"}),Object(b.jsx)(f,{menu:"Users",link:"/users"}),Object(b.jsx)(f,{menu:"News",link:"/news"}),Object(b.jsx)(f,{menu:"Music",link:"/music"}),Object(b.jsx)(f,{menu:"Settings",link:"/settings"})]})},m=function(){return Object(b.jsx)(g,{})},v=n(117),x=n.n(v),w=function(e){return Object(b.jsx)("div",{className:x.a.item,children:Object(b.jsx)(p.b,{to:e.name,children:e.name})},e.id)},P=n(118),_=n.n(P),k=function(e){var t=e.friends.map((function(e){return Object(b.jsx)(w,{id:e.id,name:e.name},e.id)}));return Object(b.jsx)("nav",{className:_.a.nav,children:t})},y=n(9),A=n(16),F=n(3),S=n.n(F),C=n(7),I=n(4),N=n(2),U=n(41),L=n.n(U),T=L.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ed0fa8fa-ddbb-478a-b370-1f41a9c286be"}}),E={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return T.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},setFollow:function(e){return T.post("follow/".concat(e)).then((function(e){return e.data}))},setUnFollow:function(e){return T.delete("follow/".concat(e)).then((function(e){return e.data}))}},M="lapa-app/users-reducer/IS_FOLLOWING",D="lapa-app/users-reducer/SET_USERS",J="lapa-app/users-reducer/SET_CURRENT_PAGE",z="lapa-app/users-reducer/SET_TOTAL_USERS_COUNT",R="lapa-app/users-reducer/TOGGLE_IS_FETCHING",H="lapa-app/users-reducer/TOGGLE_IS_FOLLOWING_PROGRESS",G={users:[],pageSize:10,totalUserCounter:0,currentPage:1,isFetching:!1,followInProgress:[]},W=function(e,t){return{type:M,userID:e,follow:t}},q=function(e){return{type:D,users:e}},Z=function(e){return{type:J,currentPage:e}},B=function(e){return{type:z,totalCount:e}},V=function(e){return{type:R,isFetching:e}},X=function(e,t){return{type:H,isFetching:e,userId:t}},K=function(){var e=Object(C.a)(S.a.mark((function e(t,n,r,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(X(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(W(n,a)),t(X(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Q=n.p+"static/media/loader.07928bad.gif",Y=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:Q})})},$=n(14),ee=n(64),te=n.n(ee),ne=function(e){for(var t=e.totalItemsCounter,n=e.pageSize,a=e.currentPage,s=e.onPageClick,c=e.portionSize,o=void 0===c?10:c,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var p=Math.ceil(i/o),d=Object(r.useState)(1),j=Object($.a)(d,2),f=j[0],h=j[1],O=(f-1)*o+1,g=f*o;Object(r.useEffect)((function(){h(Math.ceil(a/o))}),[a,o]);var m="".concat(te.a.selected," ").concat(te.a.page);return Object(b.jsxs)("div",{children:[f>1&&Object(b.jsx)("button",{onClick:function(){return h(f-1)},children:"Prev"}),u.filter((function(e){return e>=O&&e<=g})).map((function(e){return Object(b.jsx)("span",{className:a===e?m:te.a.page,onClick:function(){return s(e)},children:e})})),f<p&&Object(b.jsx)("button",{onClick:function(){return h(f+1)},children:"Next"})]})},re=n(65),ae=n.n(re),se=n.p+"static/media/user.3b87c899.png",ce=function(e){var t=e.user,n=e.followInProgress,r=e.getUnFollow,a=e.getFollow;return Object(b.jsxs)("div",{className:ae.a.wrapper,children:[Object(b.jsxs)("div",{className:ae.a.items,children:[Object(b.jsx)(p.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:se})}),t.followed?Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})]}),Object(b.jsxs)("div",{className:ae.a.info,children:[Object(b.jsx)("div",{children:t.name}),Object(b.jsx)("div",{children:t.status})]})]})},oe=function(e){var t=e.users,n=e.pageSize,r=e.totalUserCounter,a=e.currentPage,s=e.isFetching,c=e.onPageClick,o=(e.toggleIsFollowingProgress,e.followInProgress),i=e.getFollow,u=e.getUnFollow;return Object(b.jsxs)("div",{children:[s?Object(b.jsx)(Y,{}):null,Object(b.jsx)(ne,{pageSize:n,totalItemsCounter:r,currentPage:a,onPageClick:c}),t.map((function(e){return Object(b.jsx)(ce,{user:e,followInProgress:o,getFollow:i,getUnFollow:u},e.id)}))]})},ie=function(e){return e.users.users},ue=function(e){return e.users.pageSize},le=function(e){return e.users.totalUserCounter},pe=function(e){return e.users.currentPage},de=function(e){return e.users.isFetching},je=function(e){return e.users.followInProgress},be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageClick=function(t){e.props.getPage(t,e.props.pageSize)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsx)(oe,{users:this.props.users,pageSize:this.props.pageSize,totalUserCounter:this.props.totalUserCounter,currentPage:this.props.currentPage,onPageClick:this.onPageClick,isFetching:this.props.isFetching,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followInProgress:this.props.followInProgress,getFollow:this.props.getFollow,getUnFollow:this.props.getUnFollow})}}]),n}(a.a.Component),fe=Object(A.b)((function(e){return{users:ie(e),pageSize:ue(e),totalUserCounter:le(e),currentPage:pe(e),isFetching:de(e),followInProgress:je(e)}}),{setCurrentPage:Z,setTotalUsersCount:B,toggleIsFollowingProgress:X,getUsers:function(e,t){return function(){var n=Object(C.a)(S.a.mark((function n(r){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(V(!0)),n.next=3,E.getUsers(e,t);case 3:a=n.sent,r(V(!1)),r(q(a.items)),r(B(a.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getPage:function(e,t){return function(){var n=Object(C.a)(S.a.mark((function n(r){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(V(!0)),r(Z(e)),n.next=4,E.getUsers(e,t);case 4:a=n.sent,r(V(!1)),r(q(a.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getFollow:function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=E.setFollow.bind(E),t.next=3,K(n,e,r,!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUnFollow:function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=E.setUnFollow.bind(E),t.next=3,K(n,e,r,!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(be),he=n(12),Oe=L.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ed0fa8fa-ddbb-478a-b370-1f41a9c286be"}}),ge=function(e){return Oe.get("profile/".concat(e))},me=function(e){return Oe.get("profile/status/".concat(e))},ve=function(e){return Oe.put("profile/status",{status:e})},xe=function(e){var t=new FormData;return t.append("image",e),Oe.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},we=function(e){return Oe.put("profile",e)},Pe="lapa-app/profile-reducer/ADD-POST",_e="lapa-app/profile-reducer/DELETE-POST",ke="lapa-app/profile-reducer/SET_USER_PROFILE",ye="lapa-app/profile-reducer/SET_STATUS",Ae="lapa-app/profile-reducer/UPDATE_PHOTO",Fe="lapa-app/profile-reducer/UPDATE_PROFILE",Se=function(e){return{type:ke,profile:e}},Ce=function(e){return{type:ye,status:e}},Ie=function(e){return{type:Ae,photo:e}},Ne=function(e){return{type:Fe,profile:e}},Ue={posts:[{id:Object(he.v1)(),postMessage:"Hi, I'm Pavel",likes:10},{id:Object(he.v1)(),postMessage:"Let's go to learn a React",likes:9},{id:Object(he.v1)(),postMessage:"Also we need improve our html/css skills",likes:11},{id:Object(he.v1)(),postMessage:"Then we'll learn Redux",likes:22}],profile:{aboutMe:"",userId:0,fullName:"",photos:{small:"",large:""},contacts:{},lookingForAJobDescription:"",lookingForAJob:!1},status:""},Le=function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e);case 2:r=t.sent,n(Se(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=n(29),Ee=n(66),Me=n.n(Ee),De=a.a.memo((function(e){return Object(b.jsxs)("div",{className:Me.a.item,children:[Object(b.jsx)("div",{className:Me.a.postMessage,children:e.message}),Object(b.jsxs)("div",{className:Me.a.postLikes,children:["Likes: ",e.likes]})]},e.id)})),Je=n(47),ze=n.n(Je),Re=n(46),He=n(57),Ge=function(e){var t=e.addPost;Object(Te.a)(e,["addPost"]);return Object(b.jsx)(Re.d,{initialValues:{post:""},validateOnBlur:!0,validationSchema:He.c,onSubmit:function(e,n){var r=n.setSubmitting;t(e.post),r(!1)},children:function(e){var t=e.isSubmitting,n=e.errors,r=e.touched,a=e.dirty,s=e.isValid;return Object(b.jsxs)(Re.c,{children:[Object(b.jsx)(Re.b,{name:"post",as:"textarea",className:"form-textarea",placeholder:"Enter a post..."}),r.post&&n.post&&Object(b.jsx)(Re.a,{name:"post",component:"div"}),Object(b.jsx)("button",{type:"submit",disabled:t&&!s&&!a,children:"Send"})]})}})},We=a.a.memo((function(e){var t=e.addPost,n=e.myPost,r=(e.newPost,e.posts),a=(Object(Te.a)(e,["addPost","myPost","newPost","posts"]),r.map((function(e){return Object(b.jsx)(De,{message:e.postMessage,likes:e.likes,id:e.id},e.id)})));return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:ze.a.postHeader,children:[Object(b.jsx)("div",{className:ze.a.itemWrapper,children:Object(b.jsxs)("h2",{children:[n," "]})}),Object(b.jsx)("div",{className:ze.a.item,children:Object(b.jsx)(Ge,{addPost:t})})]}),Object(b.jsx)("div",{className:ze.a.posts,children:a})]})})),qe=Object(A.b)((function(e){return{myPost:e.profilePage.myPost,newPost:e.profilePage.newPost,posts:e.profilePage.posts}}),{addPost:function(e){return function(t){t(function(e){return{type:Pe,post:e}}(e))}}})(We),Ze=n(125),Be=n.n(Ze),Ve=function(e){return Object(b.jsx)("div",{className:Be.a.avatarWrapper,children:Object(b.jsx)("img",{src:e.imgAdress})})},Xe=n(126),Ke=n.n(Xe),Qe=function(e){var t=Object(r.useState)(!1),n=Object($.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(e.status),o=Object($.a)(c,2),i=o[0],u=o[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!a&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status||"clear status"})}),a&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},value:i,onBlur:function(){s(!1),e.updateStatus(i)}})})]})},Ye=function(e){e.profile;return Object(b.jsxs)("div",{className:Ke.a.wrapper,children:[Object(b.jsx)(Ve,{imgAdress:e.profile.photos.large}),Object(b.jsx)(Qe,{status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)("input",{type:"file",name:"myImg",onChange:function(t){t.target.files&&e.updateLargePhoto(t.target.files[0])}}),Object(b.jsx)($e,Object(N.a)(Object(N.a)({},e.profile),{},{updateProfile:e.updateProfile}))]})},$e=function(e){var t=e.aboutMe,n=e.userId,a=e.fullName,s=e.lookingForAJob,c=e.lookingForAJobDescription,o=e.contacts,i=Object(Te.a)(e,["aboutMe","userId","fullName","lookingForAJob","lookingForAJobDescription","contacts"]),u=Object(r.useState)(!1),l=Object($.a)(u,2),p=l[0],d=l[1],j=Object(r.useState)({aboutMe:t,userId:n,fullName:a,lookingForAJobDescription:c,lookingForAJob:s,contacts:{github:o.github}}),f=Object($.a)(j,2),h=f[0],O=f[1];Object(r.useEffect)((function(){O({aboutMe:t,userId:n,fullName:a,lookingForAJobDescription:c,lookingForAJob:s,contacts:{github:o.github}})}),[t,n,a,s,c,o]);var g=function(e,t){switch(t){case"fullName":return O(Object(N.a)(Object(N.a)({},h),{},{fullName:e.currentTarget.value}));case"aboutMe":return O(Object(N.a)(Object(N.a)({},h),{},{aboutMe:e.currentTarget.value}));case"lookingForAJobDescription":return O(Object(N.a)(Object(N.a)({},h),{},{lookingForAJobDescription:e.currentTarget.value}));case"lookingForAJob":return O(Object(N.a)(Object(N.a)({},h),{},{lookingForAJob:e.currentTarget.checked}));case"contacts.github":return O(Object(N.a)(Object(N.a)({},h),{},{contacts:Object(N.a)(Object(N.a)({},o),{},{github:e.currentTarget.value})}));default:return h}};return Object(b.jsxs)("div",{children:[!p&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["About me: ",t]}),Object(b.jsxs)("div",{children:["Fullname: ",a]}),Object(b.jsxs)("div",{children:["lookingForAJobDescription: ",c]}),Object(b.jsxs)("div",{children:["lookingForAJob: ",s?"yes":"no"]}),Object(b.jsxs)("div",{children:["contacts: ",Object(b.jsx)("span",{children:Object(b.jsx)("a",{href:o.github,target:"_blank",children:o.github})})]})]}),p&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["About me: ",Object(b.jsx)("input",{type:"text",value:h.aboutMe,onChange:function(e){return g(e,"aboutMe")}})]}),Object(b.jsxs)("div",{children:["Fullname: ",Object(b.jsx)("input",{type:"text",value:h.fullName,onChange:function(e){return g(e,"fullName")}})]}),Object(b.jsxs)("div",{children:["lookingForAJobDescription: ",Object(b.jsx)("input",{type:"text",value:h.lookingForAJobDescription,onChange:function(e){return g(e,"lookingForAJobDescription")}})]}),Object(b.jsxs)("div",{children:["lookingForAJob: ",Object(b.jsx)("input",{type:"checkbox",checked:h.lookingForAJob,onChange:function(e){return g(e,"lookingForAJob")}})]}),Object(b.jsxs)("div",{children:["contacts: ",Object(b.jsx)("input",{type:"text",value:h.contacts.github,onChange:function(e){return g(e,"contacts.github")}})]})]}),p?Object(b.jsx)("button",{onClick:function(){d(!1),i.updateProfile({aboutMe:h.aboutMe,userId:h.userId,fullName:h.fullName,lookingForAJobDescription:h.lookingForAJobDescription,lookingForAJob:h.lookingForAJob,contacts:{github:h.contacts.github}})},children:"Save"}):Object(b.jsx)("button",{onClick:function(){d(!0)},children:"Edit"})]})},et=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(Ye,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,updateLargePhoto:e.updateLargePhoto,updateProfile:e.updateProfile}),Object(b.jsx)(qe,{})]})},tt=n(113),nt=n(25),rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="21095"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(b.jsx)(et,Object(N.a)(Object(N.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,updateLargePhoto:this.props.updateLargePhoto,updateProfile:this.props.updateProfile}))}}]),n}(a.a.Component),at=Object(nt.c)(Object(A.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth}}),{setUserProfile:Se,getProfile:Le,getStatus:function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e);case 2:r=t.sent,n(Ce(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve(e);case 2:0===t.sent.data.resultCode&&n(Ce(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateLargePhoto:function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(e);case 2:0===(r=t.sent).data.resultCode&&n(Ie(r.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfile:function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n,r){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(e);case 2:0===t.sent.data.resultCode&&(n(Ne(e)),n(Le(r().auth.userId)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),y.f,tt.a)(rt),st=L.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/"}),ct=function(){return st.get("auth/me").then((function(e){return e.data}))},ot=function(e){return st.post("auth/login",Object(N.a)({},e))},it=function(){return st.delete("auth/login")},ut=function(){return st.get("security/get-captcha-url")},lt="lapa-app/login-reducer/SET_LOGIN",pt="lapa-app/login-reducer/SET_CAPTCHA",dt={data:{login:"",password:""},captchaUrl:""},jt=function(){return function(){var e=Object(C.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut();case 2:(n=e.sent).data.url&&t((r=n.data.url,{type:pt,captchaUrl:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},bt="lapa-app/auth-reducer/SET_AUTH_DATA",ft="lapa-app/auth-reducer/SET_USER_PHOTO",ht="lapa-app/auth-reducer/SET_AUTH_CHANGE",Ot="lapa-app/auth-reducer/GET_LOGIN_ERROR",gt=function(e,t,n){return{type:bt,data:{userId:e,login:t,email:n}}},mt=function(e){return{type:ft,photos:e}},vt=function(e){return{type:ht,isAuth:e}},xt={userId:0,login:"",email:"",isAuth:!1,photos:{large:"",small:""}},wt=n(79),Pt=n.n(wt),_t=n(127),kt=n.n(_t),yt=function(){return Object(b.jsx)("div",{className:kt.a.logo,children:Object(b.jsx)("img",{src:"https://2.downloader.disk.yandex.by/preview/c33abbeedf2544813e8e194dd20f17c49c8525bc8a4c13ff54fdcd76e6970467/inf/IQDoTQ9-t0Oyj8Xx04QwfQH0J1DSOU1BptY6p8aNSydwwkexzhJIMwjoKhSTi3zbr8IWPXiHulTJPGfOwk4Wpw%3D%3D?uid=1108277722&filename=lapa-logo.png&disposition=inline&hash=&limit=0&content_type=image%2Fpng&owner_uid=1108277722&tknv=v2&size=1898x830",alt:""})})},At=n(128),Ft=n.n(At),St=function(){return Object(b.jsx)("div",{className:Ft.a.search,children:Object(b.jsx)("input",{type:"text"})})},Ct=function(e){return Object(b.jsx)("img",{src:e.src})},It=n(129),Nt=n.n(It),Ut=function(e){return Object(b.jsxs)("div",{className:Nt.a.widgets,children:[Object(b.jsx)(Ct,{src:"https://icon-library.com/images/send-message-icon-png/send-message-icon-png-29.jpg"}),Object(b.jsx)(Ct,{src:"https://png.pngtree.com/png-vector/20190411/ourlarge/pngtree-vector-bell-icon-png-image_927119.jpg"}),Object(b.jsx)(Ct,{src:e.smallPhoto})]})},Lt=function(e){var t=e.setLogOut,n=Object(Te.a)(e,["setLogOut"]);return Object(b.jsxs)("header",{className:Pt.a.header,children:[Object(b.jsx)(yt,{}),Object(b.jsx)(St,{}),n.isAuth?Object(b.jsxs)("div",{className:Pt.a.widgets,children:[n.login,Object(b.jsx)(Ut,{smallPhoto:n.smallPhoto}),Object(b.jsx)("button",{onClick:function(){t()},children:"Log out"})]}):Object(b.jsx)(p.b,{to:"/login",children:"Login"})]})},Tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)(Lt,Object(N.a)(Object(N.a)({},this.props),{},{login:this.props.login,isAuth:this.props.isAuth,smallPhoto:this.props.smallPhoto,setLogOut:this.props.setLogOut}))}}]),n}(a.a.Component),Et=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,smallPhoto:e.auth.photos.small}}),{setAuthData:gt,setUserPhoto:mt,setLogOut:function(){return function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it();case 2:0===e.sent.data.resultCode&&t(vt(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Tt),Mt=n(32),Dt=n(131),Jt=Object(A.b)((function(e){return{login:e.login.data.login,password:e.login.data.password,isAuth:e.auth.isAuth,errorMessage:e.auth.errorMessage,captchaUrl:e.login.captchaUrl}}),{setLoginData:function(e){return{type:lt,data:e}},setAuth:function(e,t,n,r){return function(){var a=Object(C.a)(S.a.mark((function a(s){var c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ot({email:e,password:t,rememberMe:n,captcha:r});case 2:21095===(c=a.sent).data.data.userId?s(vt(!0)):(10===c.data.resultCode&&s(jt()),s((o=c.data.messages[0],{type:Ot,message:o})));case 4:case"end":return a.stop()}var o}),a)})));return function(e){return a.apply(this,arguments)}}()},getCaptchaUrl:jt})((function(e){var t=Object(Mt.d)({resolver:Object(Dt.a)(He.a)}),n=t.register,r=t.handleSubmit,a=t.formState.errors,s=function(t,n,r,a){e.setAuth(t,n,r,a)};return e.isAuth?Object(b.jsx)(y.a,{to:"/profile"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"LOGIN PAGE"}),Object(b.jsxs)("form",{onSubmit:r((function(t){s(t.login,t.password,t.rememberMe,t.captcha),e.setLoginData(t)})),children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(N.a)({defaultValue:""},n("login",{required:!0,pattern:/^[A-Za-z]+$/i})))}),e.errorMessage&&Object(b.jsx)("span",{children:e.errorMessage}),a.login&&Object(b.jsx)("span",{children:"This field is required"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(N.a)({defaultValue:"",type:"password"},n("password",{required:!0})))}),a.password&&Object(b.jsx)("span",{children:a.password.message}),Object(b.jsx)("div",{children:Object(b.jsx)("input",Object(N.a)({type:"checkbox"},n("rememberMe")))}),e.captchaUrl&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:e.captchaUrl,style:{width:"200px"}}),Object(b.jsx)("input",Object(N.a)({type:"text"},n("captcha")))]}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"submit"})})]})]})})),zt="lapa-app/app-reducer/SET_INITIALIZED",Rt={initialized:!1},Ht=a.a.lazy((function(){return n.e(3).then(n.bind(null,268))})),Gt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedTC()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(Et,{}),Object(b.jsx)(m,{}),Object(b.jsx)(k,{friends:this.props.friends}),Object(b.jsx)("div",{className:"app-wrapper-content",children:Object(b.jsxs)(r.Suspense,{fallback:Object(b.jsx)(Y,{}),children:[Object(b.jsx)(y.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(at,{})}}),Object(b.jsx)(y.b,{path:"/dialogs",render:function(){return Object(b.jsx)(Ht,{})}}),Object(b.jsx)(y.b,{path:"/users",render:function(){return Object(b.jsx)(fe,{})}}),Object(b.jsx)(y.b,{path:"/login",render:function(){return Object(b.jsx)(Jt,{})}})]})})]}):Object(b.jsx)(Y,{})}}]),n}(a.a.Component),Wt=Object(nt.c)(y.f,Object(A.b)((function(e){return{friends:e.navbarRight.friends,initialized:e.app.initialized}}),{initializedTC:function(){return function(e){e(function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r,a,s,c,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:if(0!==(n=e.sent).resultCode){e.next=10;break}return r=n.data,a=r.id,s=r.login,c=r.email,t(gt(a,s,c)),e.next=8,ge(a);case 8:o=e.sent,t(mt(o.data.photos));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){e({type:zt,initialized:!0})}))}}}))(Gt),qt=(n(262),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,267)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),Zt=n(114),Bt={friends:[{id:Object(he.v1)(),name:"Pashka"},{id:Object(he.v1)(),name:"Maks"},{id:Object(he.v1)(),name:"Vlad"},{id:Object(he.v1)(),name:"Leha"}]},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;return e},Xt=n(130),Kt=Object(nt.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:var n={id:Object(he.v1)(),postMessage:t.post,likes:0};return Object(N.a)(Object(N.a)({},e),{},{posts:[].concat(Object(I.a)(e.posts),[n])});case _e:return Object(N.a)(Object(N.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case ke:return Object(N.a)(Object(N.a)({},e),{},{profile:t.profile});case ye:return Object(N.a)(Object(N.a)({},e),{},{status:t.status});case Ae:return Object(N.a)(Object(N.a)({},e),{},{profile:Object(N.a)(Object(N.a)({},e.profile),{},{photos:t.photo})});case Fe:return Object(N.a)(Object(N.a)({},e),{},{profile:Object(N.a)(Object(N.a)({},e.profile),t.profile)});default:return e}},dialogsPage:Zt.b,navbarRight:Vt,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(N.a)(Object(N.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(N.a)(Object(N.a)({},e),{},{followed:t.follow}):e}))});case D:return Object(N.a)(Object(N.a)({},e),{},{users:t.users});case J:return Object(N.a)(Object(N.a)({},e),{},{currentPage:t.currentPage});case z:return Object(N.a)(Object(N.a)({},e),{},{totalUserCounter:t.totalCount});case R:return Object(N.a)(Object(N.a)({},e),{},{isFetching:t.isFetching});case H:return Object(N.a)(Object(N.a)({},e),{},{followInProgress:t.isFetching?[].concat(Object(I.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(N.a)(Object(N.a)(Object(N.a)({},e),t.data),{},{isAuth:!0});case ft:return Object(N.a)(Object(N.a)({},e),{},{photos:Object(N.a)({},t.photos)});case ht:return Object(N.a)(Object(N.a)({},e),{},{isAuth:t.isAuth});case Ot:return Object(N.a)(Object(N.a)({},e),{},{errorMessage:t.message});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:return Object(N.a)(Object(N.a)({},e),{},{data:t.data});case pt:return Object(N.a)(Object(N.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object(N.a)(Object(N.a)({},e),{},{initialized:t.initialized});default:return e}}}),Qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nt.c,Yt=Object(nt.d)(Kt,Qt(Object(nt.a)(Xt.a)));c.a.render(Object(b.jsx)(p.a,{children:Object(b.jsx)(A.a,{store:Yt,children:Object(b.jsx)(Wt,{})})}),document.getElementById("root")),window.store=Yt,qt()},47:function(e,t,n){e.exports={itemWrapper:"Posts_itemWrapper__3cvvo",item:"Posts_item__3jmKr",postHeader:"Posts_postHeader__LmL7p",posts:"Posts_posts__12nHS"}},57:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(34),a=r.a().shape({post:r.b().max(100,"Max length is 100 symbols!").required("Required field")}),s=r.a().shape({message:r.b().max(100,"Max length is 100 symbols!").required("Required field")}),c=r.a({login:r.b().email("Enter valid email"),password:r.b().min(6,"Min length is 6 symbols!")}).required("Required field")},63:function(e,t,n){e.exports={itemLink:"Navigation_itemLink__1CLZX",active:"Navigation_active__ZKPNN",item:"Navigation_item__1Lphm"}},64:function(e,t,n){e.exports={selected:"Paginator_selected__2XwE6",page:"Paginator_page__1xWmB"}},65:function(e,t,n){e.exports={wrapper:"Users_wrapper__IPgt-",info:"Users_info__1grIT",items:"Users_items__26q9j",selected:"Users_selected__322Qs"}},66:function(e,t,n){e.exports={item:"Post_item__5yp1L",postLikes:"Post_postLikes__1z3U8"}},79:function(e,t,n){e.exports={header:"Header_header__2yJqB",widgets:"Header_widgets__2xYpZ"}}},[[263,1,2]]]);
//# sourceMappingURL=main.17ea514a.chunk.js.map